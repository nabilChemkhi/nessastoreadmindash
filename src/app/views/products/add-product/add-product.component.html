<!-- <Form cForm [formGroup]="this.productForm" (ngSubmit)="onSubmit()">

  <input type="text" formControlName="name" placeholder="Product name">

  <div class="wrapper">
    <input type="file" class="file-input" accept="image/*" (change)="onSelectFile($event)">
    <div class="file-upload">
      <img   [src]="imgURL"  class="rounded" *ngIf="imgURL"/>

    </div>
  </div>

  <button type="submit" >Create</button>
</Form> -->

{{productForm.value | json}}

<c-card [cBorder]="{top: {color: 'dark', width: 3}}"  class="mb-lg-auto">
  <c-card-header>Create new product</c-card-header>
  <c-card-body>


<div >

<form (ngSubmit)="onSubmit()" [formGroup]="this.productForm" [validated]="this.productForm.valid" cForm class="row g-3 needs-validation" >
  <c-col class="position-relative" [md]="4">
    <label cLabel for="prodName">Prodduct name</label>
    <input id="prodName" cFormControl type="text" formControlName="title" placeholder="Product name" required >
    <c-form-feedback [valid]="false"  tooltip>Name required</c-form-feedback>
  </c-col>

  <c-col class="position-relative" [md]="4">
    <label cLabel for="prodImg">Cover Image</label>
    <input id="prodImg" cFormControl type="file" class="file-input" accept="image/*" (change)="onFileSelected($event)">
    <c-form-feedback [valid]="false"  tooltip>Cover image required</c-form-feedback>
  </c-col>


<!-- your-component.component.html -->
<c-col class="position-relative" [md]="3">
  <label cLabel for="category">Category</label>
  <select cSelect id="category" formControlName="category" (change)="onCategoryChange()" required>
    <option value="">Select category</option>
    <option *ngFor="let category of categList" [ngValue]="category">{{ category.name }}</option>
  </select>
  <c-form-feedback [valid]="!categoryControl?.valid" tooltip>Please select a category.</c-form-feedback>
</c-col>

<c-col class="position-relative" [md]="3">
  <label cLabel for="subcategory">Subcategory</label>
  <select cSelect id="subcategory" formControlName="subcategory" required>
    <option value="">Select subcategory</option>
    <option *ngFor="let subCat of categoryControl?.value?.subcategories" [ngValue]="subCat">{{ subCat }}</option>
  </select>
  <c-form-feedback [valid]="!subcategoryControl?.valid" tooltip>Please select a subcategory.</c-form-feedback>
</c-col>



  <c-col class="position-relative" [md]="2">
    <label cLabel for="price">Price</label>
    <input id="price" cFormControl type="number" formControlName="price" placeholder="Price" required  >
    <c-form-feedback [valid]="false"  tooltip>Price</c-form-feedback>
  </c-col>
  <c-col class="position-relative" [md]="2">
    <label cLabel for="discount">Discount</label>
    <input id="discount" cFormControl type="number" formControlName="discount" placeholder="Discount"   >
  </c-col>

  <c-col class="position-relative" [md]="2">
    <label cLabel for="discountedPrice">Price after discount</label>
    <input id="discountedPrice" cFormControl type="text"  formControlName="discountedPrice" readonly placeholder="Price after discount"  >
  </c-col>
  <c-col class="position-relative" [md]="4">
    <label cLabel class="form-label" for="validationTextarea">
      Description
    </label>
    <textarea
              cFormControl
              id="validationTextarea"
              placeholder="Product description"


    ></textarea>
  </c-col>
  <!-- //sizes -->
  <c-col class="position-relative" [md]="3">
  <div class="position-relative" >
    <label cLabel for="sizes">Sizes</label>
    <div class="d-flex flex-column">
      <div *ngFor="let size of sizes.controls; let i = index" class="d-flex align-items-center" style="margin-bottom: 0.5rem;">
        <input #size cFormControl formControlName="size" id="size{{ i }}" [placeholder]="size.value" >
        <button type="button" cButton class="ms-1" color="danger" (click)="removeSizeField(i)">Remove</button>
      </div>
      <div class="d-flex align-items-center" style="margin-bottom: 0.5rem;">
        <input  id="newsize" #newsize cFormControl type="text"   placeholder="new"    >
        <button  type="button" cButton class="ms-1" color="success"  (click)="addSizeField(newsize.value)">Add </button>
      </div>
    </div >

  </div>
</c-col>

<c-col class="position-relative" [md]="7">
  <label cLabel for="sizes">Colors : image</label>
  <div class="d-flex flex-column">
    <div *ngFor="let colourGroup of colours.controls; let i = index" class="d-flex align-items-center" style="margin-bottom: 0.5rem;">







      <!-- <label for="colour{{ i }}">Colour {{ i + 1 }}</label> -->
      <input  cFormControl formControlName="colour" id="colour{{ i }}" [placeholder]="colourGroup.get('colour')?.value" >
      <input id="img" cFormControl type="file" class="file-input" accept="image/*" (change)="onSelectFileImgs($event)">
      <button type="button" cButton class="ms-1" color="danger" (click)="removeColourField(i)">Remove</button>
    </div>

    <!-- Ajouter un nouveau champ de couleur -->
    <div class="d-flex align-items-center" style="margin-bottom: 0.5rem;">
      <input id="newColour" #newColour cFormControl type="text" placeholder="New "  >
      <button type="button" cButton class="ms-1" color="success" (click)="addColourField(newColour.value)">Add
        </button>
    </div>
  </div>
</c-col>


  <!-- <div formArrayName="sizes">
    <div *ngFor="let size of sizesFormArray.controls; let i = index">
      <input [formControl]="size" placeholder="Size {{ i + 1 }}" required>
    </div>
  </div>

  <button type="button" (click)="addSizeField()">Add Size</button>
  <button type="submit">Submit</button>

  <button type="button" (click)="addSizeField()">Add Size</button> -->














<c-col [xs]="12">
  <button cButton class="me-1" color="dark" type="submit">
    Create Product
  </button>


</c-col>

</form>

</div>

</c-card-body>
</c-card>

   <!-- your-component.component.html -->
<!-- <c-col class="position-relative" [md]="3">
  <label cLabel for="category">Category</label>
  <select cSelect id="category" [(ngModel)]="selectedCategory" name="category" required>
    <option value="">Select category</option>
    <option *ngFor="let category of categList" [ngValue]="category">{{ category.name }}</option>
  </select>
  <c-form-feedback [valid]="!selectedCategory" tooltip>Please select a category.</c-form-feedback>
</c-col>

<c-col class="position-relative" [md]="3" *ngIf="selectedCategory">
  <label cLabel for="subcategory">Subcategory</label>
  <select cSelect id="subcategory" [(ngModel)]="selectedSubcategory" name="subcategory" required>
    <option value="">Select subcategory</option>
    <option *ngFor="let subCat of selectedCategory.subcategories" [ngValue]="subCat">{{ subCat }}</option>
  </select>
  <c-form-feedback [valid]="!selectedSubcategory" tooltip>Please select a subcategory.</c-form-feedback>
</c-col> -->










<!--<Form [formGroup]="this.productForm" (ngSubmit)="onSubmit()">-->

<!--  <input type="text" formControlName="name" placeholder="Product name">-->
<!--  &lt;!&ndash;  <input type="file" formControlName="image" placeholder="Product image">&ndash;&gt;-->

<!--  <div class="wrapper">-->
<!--    <input type="file" class="file-input" accept="image/*" (change)="onSelectFile($event)">-->
<!--    <div class="file-upload">-->
<!--      <img   [src]="imgURL"  class="rounded" *ngIf="imgURL"/>-->

<!--    </div>-->
<!--  </div>-->
<!--  <button type="submit" >Create</button>-->
<!--</Form>-->
